<div class="container d-flex justify-content-end ">
  <div class="row col-6">
    <p-messages [ngClass]="{'error-message': error, 'fade-out': error}" *ngIf="!loginSuccess" [(value)]="messagesError" [enableService]="false" [closable]="false">
    </p-messages>
    <p-messages  [ngClass]="{'success-message': success, 'fade-out': success}" *ngIf="loginSuccess" [(value)]="messagesSuccess" [enableService]="false" [closable]="false">
    </p-messages>
  </div>
</div>


<div class="container mt-5" style="max-width: 540px;">
  <div class="card card-outline card-primary">
    <div class="card-header text-center">
      <img src="/assets/logo.png" style="width: 24rem;" class="img-fluid" alt="Company Logo" />
    </div>
    <div class="card-body">
      <p class="login-box-msg">Sign in to start your session</p>

      <form [formGroup]="loginForm">
        <div class="mb-3">
          <input type="text" formControlName="userName" class="form-control" placeholder="User Name"
            [ngClass]="{'is-invalid': loginForm.controls.userName.invalid && loginForm.controls.userName.dirty}">

          <div *ngIf="loginForm.controls.userName.invalid && loginForm.controls.userName.dirty" class="invalid-feedback">
            <div *ngIf="loginForm.controls.userName.errors?.required">
              User name is required.
            </div>
          </div>
        </div>

        <div class="mb-3">
          <input type="password" maxlength="16" formControlName="password" class="form-control" placeholder="Password"
            [ngClass]="{'is-invalid': loginForm.controls.password.invalid && loginForm.controls.password.dirty}">

          <div *ngIf="loginForm.controls.password.invalid && loginForm.controls.password.dirty"
            class="invalid-feedback">
            <div *ngIf="loginForm.controls.password.errors?.required">
              Password is required.
            </div>
          </div>
        </div>

        <div class="form-group text-center">
          <button (click)="loginUser()" class="btn btn-primary" [disabled]="loginForm.invalid || loading">
            <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span *ngIf="!loading">Sign In</span>
          </button>
          <div *ngIf="response" class="alert alert-success mt-2 text-white" role="alert">{{ response }}</div>
        </div>
      </form>
    </div>
  </div>
</div>


